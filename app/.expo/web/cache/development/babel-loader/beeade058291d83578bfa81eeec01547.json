{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Colors from \"../constants/colors\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport * as Font from \"expo-font\";\nimport { AppLoading } from \"expo\";\nimport { SimpleLineIcons } from '@expo/vector-icons';\nimport HairLine from \"./hairLine\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport UserAvatar from 'react-native-user-avatar';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { Entypo } from '@expo/vector-icons';\nimport ModalButton from \"../components/modalButton\";\nimport Texts from \"../constants/text\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ProfileCard = function ProfileCard(_ref) {\n  var custom_values = _ref.custom_values;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataLoaded = _useState2[0],\n      setDataLoaded = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      onChangeName = _useState6[1];\n\n  var resetModalInfo = function resetModalInfo() {\n    onChangeName('');\n  };\n\n  var editProfile = function editProfile() {\n    Keyboard.dismiss();\n    var data = {};\n\n    if (name) {\n      data['name'] = name;\n    }\n\n    if (email) {\n      data['email'] = email;\n    }\n\n    data['id'] = 'X8E6gpS3CjHhA3FuhcnM';\n    data['societyId'] = 'NXZyFd6qMbzJPtBPygoq';\n    console.log(data);\n\n    try {\n      axios.post(\"https://us-central1-sahayak-a912a.cloudfunctions.net/app/edit_profile\", data).then(function (response) {\n        console.log(response.data);\n\n        if (response.status == 200) {\n          ToastAndroid.showWithGravityAndOffset(response.data.message, ToastAndroid.LONG, ToastAndroid.BOTTOM, 25, 50);\n        }\n\n        setModalVisible(false);\n      });\n    } catch (error) {\n      if (response.status == 200) {\n        ToastAndroid.showWithGravityAndOffset(\"error while adding into notices : \" + error, ToastAndroid.LONG, ToastAndroid.BOTTOM, 25, 50);\n      }\n\n      setModalVisible(false);\n    }\n  };\n\n  var init = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        console.log(\"wait\");\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setDataLoaded(true);\n      }\n    });\n\n    return function init() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  if (!dataLoaded) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Loading....\"\n      })\n    });\n  } else {\n    return _jsxs(View, {\n      style: styles.card,\n      children: [_jsxs(View, {\n        style: styles.cardContent,\n        children: [_jsx(View, {\n          style: styles.avatar,\n          children: _jsx(UserAvatar, {\n            bgColor: Colors.primaryColor,\n            size: 50,\n            name: custom_values.name\n          })\n        }), _jsxs(View, {\n          style: styles.userDetails,\n          children: [_jsx(View, {\n            style: styles.userdata,\n            children: _jsx(Text, {\n              style: styles.fontStyle,\n              children: custom_values.name\n            })\n          }), _jsx(View, {\n            style: styles.userdata,\n            children: _jsx(Text, {\n              style: styles.fontStyle,\n              children: custom_values.phone\n            })\n          })]\n        }), _jsx(View, {\n          style: styles.editBtn,\n          children: _jsx(SimpleLineIcons, {\n            name: \"pencil\",\n            size: 20,\n            color: \"#7f8c8d\",\n            onPress: function onPress() {\n              setModalVisible(true);\n            }\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.centeredView,\n        children: _jsx(Modal, {\n          animationType: \"fade\",\n          transparent: true,\n          visible: modalVisible,\n          onRequestClose: function onRequestClose() {\n            setModalVisible(!modalVisible);\n            resetModalInfo();\n          },\n          children: _jsx(View, {\n            style: styles.centeredView,\n            children: _jsxs(View, {\n              style: styles.modalView,\n              children: [_jsxs(View, {\n                style: {\n                  flexDirection: \"row\",\n                  alignItems: \"center\"\n                },\n                children: [_jsx(View, {\n                  style: {\n                    alignItems: \"flex-start\",\n                    justifyContent: \"flex-start\"\n                  },\n                  children: _jsx(Text, {\n                    style: styles.modalHeader,\n                    children: Texts.Profile.edit\n                  })\n                }), _jsx(View, {\n                  style: {\n                    backgroundColor: Colors.primaryColor,\n                    padding: wp(\"0.5%\"),\n                    borderRadius: 5,\n                    justifyContent: \"flex-end\",\n                    marginLeft: \"auto\"\n                  },\n                  children: _jsx(Entypo, {\n                    name: \"cross\",\n                    size: 16,\n                    color: \"white\",\n                    onPress: function onPress() {\n                      setModalVisible(!modalVisible);\n                      resetModalInfo();\n                    }\n                  })\n                })]\n              }), _jsx(TextInput, {\n                style: styles.formInputs,\n                placeholder: custom_values.name,\n                placeholderTextColor: \"#34495e\",\n                onChangeText: function onChangeText(text) {\n                  return onChangeName(text);\n                },\n                value: name\n              }), _jsx(TextInput, {\n                style: styles.formInputs,\n                editable: false,\n                selectTextOnFocus: false,\n                placeholder: custom_values.phone,\n                placeholderTextColor: \"#34495e\"\n              }), _jsx(ModalButton, {\n                title: \"Save\",\n                handlePress: editProfile\n              })]\n            })\n          })\n        })\n      })]\n    });\n  }\n};\n\nexport default ProfileCard;\nvar styles = StyleSheet.create({\n  card: {\n    borderRadius: 8,\n    backgroundColor: \"#fff\",\n    marginHorizontal: wp(\"1.3%\")\n  },\n  cardContent: {\n    flexDirection: \"row\",\n    marginHorizontal: wp(\"1.8%\"),\n    marginVertical: hp(\"1%\")\n  },\n  userdata: {\n    marginHorizontal: wp(\"1.8%\")\n  },\n  editBtn: {\n    marginLeft: \"auto\",\n    marginTop: hp(\"1.5%\")\n  },\n  userDetails: {\n    flexDirection: \"column\"\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: 'rgba(0,0,0,0.7)'\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: wp(\"3.5%\"),\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    width: wp(\"80%\"),\n    height: hp(\"40%\")\n  },\n  openButton: {\n    justifyContent: \"center\",\n    marginLeft: \"auto\",\n    borderRadius: 20,\n    padding: wp(\"2%\"),\n    elevation: 2\n  },\n  formInputs: {\n    height: hp(\"6%\"),\n    borderRadius: 5,\n    backgroundColor: \"#ecf0f1\",\n    fontFamily: \"Quicksand-regular\",\n    paddingHorizontal: wp(\"4%\"),\n    marginVertical: hp(\"0.5%\"),\n    fontSize: wp('4%'),\n    color: \"#34495e\"\n  },\n  modalHeader: {\n    fontFamily: \"Quicksand-medium\",\n    fontSize: wp('4.2%'),\n    marginBottom: hp(\"1%\")\n  },\n  fontStyle: {\n    fontFamily: \"Quicksand-Bold\",\n    fontSize: wp('4%')\n  }\n});","map":{"version":3,"sources":["D:/Deshna/Swachh-master/Swachh-master/app/components/profileCard.js"],"names":["React","useState","useEffect","Colors","Font","AppLoading","SimpleLineIcons","HairLine","widthPercentageToDP","wp","heightPercentageToDP","hp","UserAvatar","FontAwesome5","Entypo","ModalButton","Texts","axios","ProfileCard","custom_values","dataLoaded","setDataLoaded","modalVisible","setModalVisible","name","onChangeName","resetModalInfo","editProfile","Keyboard","dismiss","data","email","console","log","post","then","response","status","ToastAndroid","showWithGravityAndOffset","message","LONG","BOTTOM","error","init","e","warn","styles","card","cardContent","avatar","primaryColor","userDetails","userdata","fontStyle","phone","editBtn","centeredView","modalView","flexDirection","alignItems","justifyContent","modalHeader","Profile","edit","backgroundColor","padding","borderRadius","marginLeft","formInputs","text","StyleSheet","create","marginHorizontal","marginVertical","marginTop","flex","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","openButton","fontFamily","paddingHorizontal","fontSize","color","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Colors from '../constants/colors';\nimport { StyleSheet, SafeAreaView, Text, View, Image, TextInput, Keyboard, Modal, ToastAndroid } from 'react-native';\nimport * as Font from \"expo-font\";\nimport { AppLoading } from \"expo\";\nimport { SimpleLineIcons } from '@expo/vector-icons'; import HairLine from './hairLine'\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport UserAvatar from 'react-native-user-avatar';\nimport { Dimensions } from 'react-native'\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { Entypo } from '@expo/vector-icons';\nimport ModalButton from '../components/modalButton';\nimport Texts from '../constants/text'\nimport axios from \"axios\";\n// const fetchFonts = () => {\n//     console.log(\"loading font\");\n//     return Font.loadAsync({\n//         \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n//         \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n//         \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n//         \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\"),\n//     });\n// };\n\nconst ProfileCard = ({ custom_values }) => {\n    const [dataLoaded, setDataLoaded] = useState(false);\n    const [modalVisible, setModalVisible] = useState(false);\n    \n    const [name, onChangeName] = useState(null);\n    \n\n    const resetModalInfo = () => {\n        onChangeName('')\n      \n    }\n\n    const editProfile = () => {\n        Keyboard.dismiss()\n        var data = {}\n        if (name) {\n            data['name'] = name\n        }\n        if (email) {\n            data['email'] = email\n        }\n        data['id'] = 'X8E6gpS3CjHhA3FuhcnM'\n        data['societyId'] = 'NXZyFd6qMbzJPtBPygoq'\n        console.log(data)\n        try {\n            axios.post(\"https://us-central1-sahayak-a912a.cloudfunctions.net/app/edit_profile\", data).then(response => {\n                console.log(response.data);\n                if (response.status == 200) {\n                    ToastAndroid.showWithGravityAndOffset(\n                        response.data.message,\n                        ToastAndroid.LONG,\n                        ToastAndroid.BOTTOM,\n                        25,\n                        50\n                    );\n                }\n                setModalVisible(false)\n            })\n        } catch (error) {\n            if (response.status == 200) {\n                ToastAndroid.showWithGravityAndOffset(\n                    \"error while adding into notices : \"+error,\n                    ToastAndroid.LONG,\n                    ToastAndroid.BOTTOM,\n                    25,\n                    50\n                );\n            }\n            setModalVisible(false)\n        }\n    };\n\n    const init = async () => {\n        try {\n            // Keep on showing the SlashScreen\n            console.log(\"wait\");\n            // await fetchFonts();\n        } catch (e) {\n            console.warn(e);\n        } finally {\n            setDataLoaded(true);\n            // Hiding the SplashScreen\n\n        }\n    }\n\n\n    useEffect(() => {\n        init();\n    }, []);\n\n\n    if (!dataLoaded) {\n        return (\n            <View>\n\n                <Text>Loading....</Text>\n            </View>\n        );\n    } else {\n        return (\n            <View style={styles.card}>\n                <View style={styles.cardContent}>\n                    <View style={styles.avatar}>\n                        <UserAvatar bgColor={Colors.primaryColor} size={50} name={custom_values.name} />\n                    </View>\n                    <View style={styles.userDetails}>\n                        <View style={styles.userdata}>\n                            <Text style={styles.fontStyle}>{custom_values.name}</Text>\n                        </View>\n                        <View style={styles.userdata}>\n                            <Text style={styles.fontStyle}>{custom_values.phone}</Text>\n                        </View>\n\n                    </View>\n                    <View style={styles.editBtn}>\n                        <SimpleLineIcons name=\"pencil\" size={20} color=\"#7f8c8d\" onPress={() => { setModalVisible(true); }} />\n                    </View>\n                </View>\n                <View style={styles.centeredView}>\n                    <Modal\n                        animationType=\"fade\"\n                        transparent={true}\n                        visible={modalVisible}\n                        onRequestClose={() => { setModalVisible(!modalVisible); resetModalInfo() }}\n                    >\n                        <View style={styles.centeredView}>\n                            <View style={styles.modalView}>\n                                <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n                                    <View style={{ alignItems: \"flex-start\", justifyContent: \"flex-start\" }}>\n                                        <Text style={styles.modalHeader}>{Texts.Profile.edit}</Text>\n                                    </View>\n                                    <View style={{ backgroundColor: Colors.primaryColor, padding: wp(\"0.5%\"), borderRadius: 5, justifyContent: \"flex-end\", marginLeft: \"auto\" }}>\n                                        <Entypo name=\"cross\" size={16} color=\"white\" onPress={() => { setModalVisible(!modalVisible); resetModalInfo() }} />\n                                    </View>\n                                </View>\n                                <TextInput\n                                    style={styles.formInputs}\n                                    placeholder={custom_values.name}\n                                    placeholderTextColor=\"#34495e\"\n                                    onChangeText={text => onChangeName(text)}\n                                    value={name}\n                                />\n                               \n                                <TextInput\n                                    style={styles.formInputs}\n                                    editable={false}\n                                    selectTextOnFocus={false}\n                                    placeholder={custom_values.phone}\n                                    placeholderTextColor=\"#34495e\"\n                                />\n                                <ModalButton title={\"Save\"} handlePress={editProfile} />\n\n                            </View>\n                        </View>\n                    </Modal>\n                </View>\n            </View>\n        );\n    }\n}\n\nexport default ProfileCard;\nconst styles = StyleSheet.create({\n    card: {\n        borderRadius: 8,\n\n        backgroundColor: \"#fff\",\n\n        marginHorizontal: wp(\"1.3%\"),\n\n    },\n    cardContent: {\n        flexDirection: \"row\",\n        marginHorizontal: wp(\"1.8%\"),\n        marginVertical: hp(\"1%\"),\n    },\n\n    userdata: {\n        marginHorizontal: wp(\"1.8%\"),\n    },\n    editBtn: {\n        marginLeft: \"auto\",\n        marginTop: hp(\"1.5%\")\n    },\n    userDetails: {\n        flexDirection: \"column\",\n    },\n    centeredView: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: 'rgba(0,0,0,0.7)',\n    },\n    modalView: {\n        backgroundColor: \"white\",\n        borderRadius: 20,\n        padding: wp(\"3.5%\"),\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 3.84,\n        elevation: 5,\n        width: wp(\"80%\"),\n        height: hp(\"40%\")\n    },\n    openButton: {\n        justifyContent: \"center\",\n        marginLeft: \"auto\",\n        borderRadius: 20,\n        padding: wp(\"2%\"),\n        elevation: 2\n    },\n    formInputs: {\n        height: hp(\"6%\"),\n        borderRadius: 5,\n        backgroundColor: \"#ecf0f1\",\n        fontFamily: \"Quicksand-regular\",\n        paddingHorizontal: wp(\"4%\"),\n        marginVertical: hp(\"0.5%\"),\n        fontSize: wp('4%'),\n        color: \"#34495e\"\n    },\n    modalHeader: {\n        fontFamily: \"Quicksand-medium\",\n        fontSize: wp('4.2%'),\n        marginBottom: hp(\"1%\")\n    },\n    fontStyle: {\n        fontFamily: \"Quicksand-Bold\",\n        fontSize: wp('4%')\n    }\n});"]},"metadata":{},"sourceType":"module"}