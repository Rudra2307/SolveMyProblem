{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Colors from \"../constants/colors\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport * as Font from \"expo-font\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport EntryCard from \"../components/entryRecordCard\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport Constants from \"../constants/text\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar fetchFonts = function fetchFonts() {\n  console.log(\"loading font\");\n  return Font.loadAsync({\n    \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n    \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n    \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n    \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\")\n  });\n};\n\nexport default function EntryRecords(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dataLoaded = _useState4[0],\n      setDataLoaded = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      historyData = _useState6[0],\n      setHistoryData = _useState6[1];\n\n  var request_history = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield AsyncStorage.getItem(\"userData\");\n        response = JSON.parse(response);\n        axios.get(Constants.ApiLink + \"/api/history/\" + response.data.user_email).then(function () {\n          var _ref3 = _asyncToGenerator(function* (response) {\n            try {\n              var jsonValue = response.data.data;\n              console.log(jsonValue);\n              setHistoryData(jsonValue);\n              setDataLoaded(true);\n              console.log(\"data: \" + jsonValue);\n            } catch (e) {\n              console.log(\"Got error while storing data to async\" + e);\n            }\n          });\n\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }()).catch(function (error) {\n          console.log(\"ERROR ON HOME\", error);\n        }).finally(function () {});\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setDataLoaded(true);\n      }\n    });\n\n    return function request_history() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var radio_props = [{\n    label: 'High ',\n    value: 0\n  }, {\n    label: 'Medium ',\n    value: 1\n  }, {\n    label: 'Low ',\n    value: 2\n  }];\n\n  var init = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield fetchFonts();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setDataLoaded(true);\n      }\n    });\n\n    return function init() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n    request_history();\n  }, []);\n\n  if (!dataLoaded) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Loading....\"\n      })\n    });\n  } else {\n    return _jsxs(View, {\n      style: {\n        paddingHorizontal: wp(\"4%\"),\n        backgroundColor: \"white\"\n      },\n      children: [_jsxs(View, {\n        style: {\n          paddingBottom: \"7%\",\n          paddingTop: \"4%\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: {\n            position: \"absolute\",\n            top: hp(\"2%\")\n          },\n          children: _jsx(MaterialIcons, {\n            name: \"keyboard-backspace\",\n            size: 24,\n            color: \"black\"\n          })\n        }), _jsx(View, {\n          style: {\n            alignItems: \"center\",\n            flexGrow: 1\n          },\n          children: _jsx(Text, {\n            style: {\n              fontFamily: \"Quicksand-Bold\",\n              fontSize: 20,\n              color: \"black\",\n              textAlign: \"center\"\n            },\n            children: \"Your reports\"\n          })\n        })]\n      }), _jsx(FlatList, {\n        style: {\n          marginBottom: hp(\"10%\")\n        },\n        numColumns: 1,\n        data: historyData,\n        renderItem: function renderItem(_ref5) {\n          var item = _ref5.item;\n          return _jsx(EntryCard, {\n            props: item\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })]\n    });\n  }\n}\nvar styles = StyleSheet.create({\n  row: {\n    flex: 1,\n    justifyContent: \"space-around\"\n  }\n});","map":{"version":3,"sources":["D:/Deshna/Swachh-master/Swachh-master/app/screens/entryRecord.js"],"names":["React","useState","useEffect","Colors","Font","Entypo","MaterialIcons","Localization","i18n","widthPercentageToDP","wp","heightPercentageToDP","hp","EntryCard","axios","AsyncStorage","Constants","fetchFonts","console","log","loadAsync","require","EntryRecords","navigation","userData","setUserData","dataLoaded","setDataLoaded","historyData","setHistoryData","request_history","response","getItem","JSON","parse","get","ApiLink","data","user_email","then","jsonValue","e","catch","error","finally","warn","radio_props","label","value","init","paddingHorizontal","backgroundColor","paddingBottom","paddingTop","position","top","alignItems","flexGrow","fontFamily","fontSize","color","textAlign","marginBottom","item","id","styles","StyleSheet","create","row","flex","justifyContent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP;;;;;;;;;;;;;;AAEA,OAAO,KAAKC,IAAZ,MAAsB,WAAtB;AACA,SAASC,MAAT,EAAiBC,aAAjB,QAAsC,oBAAtC;AACA,OAAO,KAAKC,YAAZ,MAA8B,mBAA9B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,mBAAmB,IAAIC,EAAhC,EAAoCC,oBAAoB,IAAIC,EAA5D,QAAsE,gCAAtE;AACA,OAAOC,SAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,OAAOC,SAAP;;;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,SAAOf,IAAI,CAACgB,SAAL,CAAe;AAClB,yBAAqBC,OAAO,yCADV;AAElB,wBAAoBA,OAAO,wCAFT;AAGlB,sBAAkBA,OAAO,sCAHP;AAIlB,0BAAsBA,OAAO;AAJX,GAAf,CAAP;AAMH,CARD;;AAUA,eAAe,SAASC,YAAT,OAAsC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAEjD,kBAAgCtB,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOuB,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAoCxB,QAAQ,CAAC,KAAD,CAA5C;AAAA;AAAA,MAAOyB,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAsC1B,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAO2B,WAAP;AAAA,MAAoBC,cAApB;;AAEA,MAAMC,eAAe;AAAA,kCAAG,aAAY;AAChC,UAAI;AAEA,YAAIC,QAAQ,SAAShB,YAAY,CAACiB,OAAb,CAAqB,UAArB,CAArB;AACAD,QAAAA,QAAQ,GAAGE,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAX;AAEAjB,QAAAA,KAAK,CACAqB,GADL,CACYnB,SAAS,CAACoB,OADtB,qBAC6CL,QAAQ,CAACM,IAAT,CAAcC,UAD3D,EAEKC,IAFL;AAAA,wCAEU,WAAgBR,QAAhB,EAA0B;AAG5B,gBAAI;AACA,kBAAMS,SAAS,GAAGT,QAAQ,CAACM,IAAT,CAAcA,IAAhC;AACAnB,cAAAA,OAAO,CAACC,GAAR,CAAYqB,SAAZ;AACAX,cAAAA,cAAc,CAACW,SAAD,CAAd;AACAb,cAAAA,aAAa,CAAC,IAAD,CAAb;AACAT,cAAAA,OAAO,CAACC,GAAR,CAAY,WAAWqB,SAAvB;AACH,aAND,CAME,OAAOC,CAAP,EAAU;AAERvB,cAAAA,OAAO,CAACC,GAAR,CAAY,0CAA0CsB,CAAtD;AACH;AACJ,WAfL;;AAAA;AAAA;AAAA;AAAA,aAgBKC,KAhBL,CAgBW,UAAUC,KAAV,EAAiB;AAEpBzB,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BwB,KAA7B;AACH,SAnBL,EAoBKC,OApBL,CAoBa,YAAY,CAEpB,CAtBL;AAwBH,OA7BD,CA6BE,OAAOH,CAAP,EAAU;AACRvB,QAAAA,OAAO,CAAC2B,IAAR,CAAaJ,CAAb;AACH,OA/BD,SA+BU;AACNd,QAAAA,aAAa,CAAC,IAAD,CAAb;AAGH;AACJ,KArCoB;;AAAA,oBAAfG,eAAe;AAAA;AAAA;AAAA,KAArB;;AAuCA,MAAIgB,WAAW,GAAG,CACd;AAAEC,IAAAA,KAAK,EAAE,OAAT;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GADc,EAEd;AAAED,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,KAAK,EAAE;AAA3B,GAFc,EAGd;AAAED,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GAHc,CAAlB;;AAQA,MAAMC,IAAI;AAAA,kCAAG,aAAY;AACrB,UAAI;AAIA,cAAMhC,UAAU,EAAhB;AACH,OALD,CAKE,OAAOwB,CAAP,EAAU;AACRvB,QAAAA,OAAO,CAAC2B,IAAR,CAAaJ,CAAb;AACH,OAPD,SAOU;AACNd,QAAAA,aAAa,CAAC,IAAD,CAAb;AAGH;AACJ,KAbS;;AAAA,oBAAJsB,IAAI;AAAA;AAAA;AAAA,KAAV;;AAeA/C,EAAAA,SAAS,CAAC,YAAM;AACZ+C,IAAAA,IAAI;AACJnB,IAAAA,eAAe;AAClB,GAHQ,EAGN,EAHM,CAAT;;AAMA,MAAI,CAACJ,UAAL,EAAiB;AACb,WACI,KAAC,IAAD;AAAA,gBACI,KAAC,IAAD;AAAA;AAAA;AADJ,MADJ;AAKH,GAND,MAMO;AACH,WACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEwB,QAAAA,iBAAiB,EAAExC,EAAE,CAAC,IAAD,CAAvB;AAA+ByC,QAAAA,eAAe,EAAE;AAAhD,OAAb;AAAA,iBACI,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,aAAa,EAAE,IAAjB;AAAuBC,UAAAA,UAAU,EAAE;AAAnC,SAAb;AAAA,mBACI,KAAC,gBAAD;AAAkB,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE,UAAZ;AAAwBC,YAAAA,GAAG,EAAE3C,EAAE,CAAC,IAAD;AAA/B,WAAzB;AAAA,oBACI,KAAC,aAAD;AAAe,YAAA,IAAI,EAAC,oBAApB;AAAyC,YAAA,IAAI,EAAE,EAA/C;AAAmD,YAAA,KAAK,EAAC;AAAzD;AADJ,UADJ,EAII,KAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAE4C,YAAAA,UAAU,EAAE,QAAd;AAAwBC,YAAAA,QAAQ,EAAE;AAAlC,WAAb;AAAA,oBACI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,UAAU,EAAE,gBAAd;AAAgCC,cAAAA,QAAQ,EAAE,EAA1C;AAA8CC,cAAAA,KAAK,EAAE,OAArD;AAA8DC,cAAAA,SAAS,EAAE;AAAzE,aAAb;AAAA;AAAA;AADJ,UAJJ;AAAA,QADJ,EAUI,KAAC,QAAD;AACI,QAAA,KAAK,EAAE;AAAEC,UAAAA,YAAY,EAAElD,EAAE,CAAC,KAAD;AAAlB,SADX;AAEI,QAAA,UAAU,EAAE,CAFhB;AAII,QAAA,IAAI,EAAEgB,WAJV;AAKI,QAAA,UAAU,EAAE;AAAA,cAAGmC,IAAH,SAAGA,IAAH;AAAA,iBAAc,KAAC,SAAD;AAAW,YAAA,KAAK,EAAEA;AAAlB,YAAd;AAAA,SALhB;AAMI,QAAA,YAAY,EAAE,sBAAAA,IAAI;AAAA,iBAAIA,IAAI,CAACC,EAAT;AAAA;AANtB,QAVJ;AAAA,MADJ;AAqBH;AACJ;AAED,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,GAAG,EAAE;AACDC,IAAAA,IAAI,EAAE,CADL;AAEDC,IAAAA,cAAc,EAAE;AAFf;AADwB,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Colors from '../constants/colors';\nimport { StyleSheet, SafeAreaView, ScrollView, TouchableOpacity, TextInput, Text, View, Modal, Linking, Platform, Image, Alert, FlatList } from 'react-native';\nimport * as Font from \"expo-font\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport EntryCard from '../components/entryRecordCard';\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport Constants from '../constants/text'\n\nconst fetchFonts = () => {\n    console.log(\"loading font\");\n    return Font.loadAsync({\n        \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n        \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n        \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n        \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\"),\n    });\n};\n\nexport default function EntryRecords({ navigation }) {\n\n    const [userData, setUserData] = useState({});\n    const [dataLoaded, setDataLoaded] = useState(false);\n    const [historyData, setHistoryData] = useState({});\n\n    const request_history = async () => {\n        try {\n\n            let response = await AsyncStorage.getItem(\"userData\")\n            response = JSON.parse(response);\n\n            axios\n                .get(`${Constants.ApiLink}/api/history/${response.data.user_email}`)\n                .then(async function (response) {\n                    // handle success\n\n                    try {\n                        const jsonValue = response.data.data\n                        console.log(jsonValue)\n                        setHistoryData(jsonValue)\n                        setDataLoaded(true);\n                        console.log(\"data: \" + jsonValue);\n                    } catch (e) {\n                        // saving error\n                        console.log(\"Got error while storing data to async\" + e);\n                    }\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(\"ERROR ON HOME\", error);\n                })\n                .finally(function () {\n                    // always executed\n                });\n            // await fetchFonts();\n        } catch (e) {\n            console.warn(e);\n        } finally {\n            setDataLoaded(true);\n            // Hiding the SplashScreen\n\n        }\n    }\n\n    var radio_props = [\n        { label: 'High ', value: 0 },\n        { label: 'Medium ', value: 1 },\n        { label: 'Low ', value: 2 }\n    ];\n\n\n\n    const init = async () => {\n        try {\n            // Keep on showing the SlashScreen\n\n\n            await fetchFonts();\n        } catch (e) {\n            console.warn(e);\n        } finally {\n            setDataLoaded(true);\n            // Hiding the SplashScreen\n\n        }\n    }\n\n    useEffect(() => {\n        init();\n        request_history();\n    }, []);\n\n\n    if (!dataLoaded) {\n        return (\n            <View>\n                <Text>Loading....</Text>\n            </View>\n        );\n    } else {\n        return (\n            <View style={{ paddingHorizontal: wp(\"4%\"), backgroundColor: \"white\" }}>\n                <View style={{ paddingBottom: \"7%\", paddingTop: \"4%\" }}>\n                    <TouchableOpacity style={{ position: \"absolute\", top: hp(\"2%\") }}>\n                        <MaterialIcons name=\"keyboard-backspace\" size={24} color=\"black\" />\n                    </TouchableOpacity>\n                    <View style={{ alignItems: \"center\", flexGrow: 1 }}>\n                        <Text style={{ fontFamily: \"Quicksand-Bold\", fontSize: 20, color: \"black\", textAlign: \"center\" }} >Your reports</Text>\n                    </View>\n                    \n                </View>\n                <FlatList\n                    style={{ marginBottom: hp(\"10%\") }}\n                    numColumns={1}                  // set number of columns \n\n                    data={historyData}\n                    renderItem={({ item }) => <EntryCard props={item} />}\n                    keyExtractor={item => item.id}\n                />\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    row: {\n        flex: 1,\n        justifyContent: \"space-around\",\n    }\n});"]},"metadata":{},"sourceType":"module"}