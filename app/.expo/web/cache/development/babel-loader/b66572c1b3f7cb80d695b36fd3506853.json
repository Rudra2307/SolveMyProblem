{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { UnavailabilityError } from 'expo-modules-core';\nimport { CameraType, PermissionStatus } from \"./Camera.types\";\nimport { canGetUserMedia, isBackCameraAvailableAsync, isFrontCameraAvailableAsync } from \"./WebUserMediaManager\";\n\nfunction getUserMedia(constraints) {\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    return navigator.mediaDevices.getUserMedia(constraints);\n  }\n\n  var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || function () {\n    var error = new Error('Permission unimplemented');\n    error.code = 0;\n    error.name = 'NotAllowedError';\n    throw error;\n  };\n\n  return new Promise(function (resolve, reject) {\n    getUserMedia.call(navigator, constraints, resolve, reject);\n  });\n}\n\nfunction handleGetUserMediaError(_ref) {\n  var message = _ref.message;\n\n  if (message === 'Permission dismissed') {\n    return {\n      status: PermissionStatus.UNDETERMINED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: false\n    };\n  } else {\n    return {\n      status: PermissionStatus.DENIED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: false\n    };\n  }\n}\n\nfunction handleRequestPermissionsAsync() {\n  return _handleRequestPermissionsAsync.apply(this, arguments);\n}\n\nfunction _handleRequestPermissionsAsync() {\n  _handleRequestPermissionsAsync = _asyncToGenerator(function* () {\n    try {\n      yield getUserMedia({\n        video: true\n      });\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: true\n      };\n    } catch (_ref3) {\n      var message = _ref3.message;\n      return handleGetUserMediaError({\n        message: message\n      });\n    }\n  });\n  return _handleRequestPermissionsAsync.apply(this, arguments);\n}\n\nfunction handlePermissionsQueryAsync(_x) {\n  return _handlePermissionsQueryAsync.apply(this, arguments);\n}\n\nfunction _handlePermissionsQueryAsync() {\n  _handlePermissionsQueryAsync = _asyncToGenerator(function* (query) {\n    var _navigator, _navigator$permission;\n\n    if (!((_navigator = navigator) != null && (_navigator$permission = _navigator.permissions) != null && _navigator$permission.query)) {\n      throw new UnavailabilityError('expo-camera', 'navigator.permissions API is not available');\n    }\n\n    var _yield$navigator$perm = yield navigator.permissions.query({\n      name: query\n    }),\n        state = _yield$navigator$perm.state;\n\n    switch (state) {\n      case 'prompt':\n        return {\n          status: PermissionStatus.UNDETERMINED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: false\n        };\n\n      case 'granted':\n        return {\n          status: PermissionStatus.GRANTED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: true\n        };\n\n      case 'denied':\n        return {\n          status: PermissionStatus.DENIED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: false\n        };\n    }\n  });\n  return _handlePermissionsQueryAsync.apply(this, arguments);\n}\n\nexport default {\n  get name() {\n    return 'ExponentCameraManager';\n  },\n\n  get Type() {\n    return {\n      back: 'back',\n      front: 'front'\n    };\n  },\n\n  get FlashMode() {\n    return {\n      on: 'on',\n      off: 'off',\n      auto: 'auto',\n      torch: 'torch'\n    };\n  },\n\n  get AutoFocus() {\n    return {\n      on: 'on',\n      off: 'off',\n      auto: 'auto',\n      singleShot: 'singleShot'\n    };\n  },\n\n  get WhiteBalance() {\n    return {\n      auto: 'auto',\n      continuous: 'continuous',\n      manual: 'manual'\n    };\n  },\n\n  get VideoQuality() {\n    return {};\n  },\n\n  get VideoStabilization() {\n    return {};\n  },\n\n  isAvailableAsync: function () {\n    var _isAvailableAsync = _asyncToGenerator(function* () {\n      return canGetUserMedia();\n    });\n\n    function isAvailableAsync() {\n      return _isAvailableAsync.apply(this, arguments);\n    }\n\n    return isAvailableAsync;\n  }(),\n  takePicture: function () {\n    var _takePicture = _asyncToGenerator(function* (options, camera) {\n      return yield camera.takePicture(options);\n    });\n\n    function takePicture(_x2, _x3) {\n      return _takePicture.apply(this, arguments);\n    }\n\n    return takePicture;\n  }(),\n  pausePreview: function () {\n    var _pausePreview = _asyncToGenerator(function* (camera) {\n      yield camera.pausePreview();\n    });\n\n    function pausePreview(_x4) {\n      return _pausePreview.apply(this, arguments);\n    }\n\n    return pausePreview;\n  }(),\n  resumePreview: function () {\n    var _resumePreview = _asyncToGenerator(function* (camera) {\n      return yield camera.resumePreview();\n    });\n\n    function resumePreview(_x5) {\n      return _resumePreview.apply(this, arguments);\n    }\n\n    return resumePreview;\n  }(),\n  getAvailableCameraTypesAsync: function () {\n    var _getAvailableCameraTypesAsync = _asyncToGenerator(function* () {\n      if (!canGetUserMedia() || !navigator.mediaDevices.enumerateDevices) return [];\n      var devices = yield navigator.mediaDevices.enumerateDevices();\n      var types = yield Promise.all([(yield isFrontCameraAvailableAsync(devices)) && CameraType.front, (yield isBackCameraAvailableAsync()) && CameraType.back]);\n      return types.filter(Boolean);\n    });\n\n    function getAvailableCameraTypesAsync() {\n      return _getAvailableCameraTypesAsync.apply(this, arguments);\n    }\n\n    return getAvailableCameraTypesAsync;\n  }(),\n  getAvailablePictureSizes: function () {\n    var _getAvailablePictureSizes = _asyncToGenerator(function* (ratio, camera) {\n      return yield camera.getAvailablePictureSizes(ratio);\n    });\n\n    function getAvailablePictureSizes(_x6, _x7) {\n      return _getAvailablePictureSizes.apply(this, arguments);\n    }\n\n    return getAvailablePictureSizes;\n  }(),\n  getPermissionsAsync: function () {\n    var _getPermissionsAsync = _asyncToGenerator(function* () {\n      return handlePermissionsQueryAsync('camera');\n    });\n\n    function getPermissionsAsync() {\n      return _getPermissionsAsync.apply(this, arguments);\n    }\n\n    return getPermissionsAsync;\n  }(),\n  requestPermissionsAsync: function () {\n    var _requestPermissionsAsync = _asyncToGenerator(function* () {\n      return handleRequestPermissionsAsync();\n    });\n\n    function requestPermissionsAsync() {\n      return _requestPermissionsAsync.apply(this, arguments);\n    }\n\n    return requestPermissionsAsync;\n  }(),\n  getCameraPermissionsAsync: function () {\n    var _getCameraPermissionsAsync = _asyncToGenerator(function* () {\n      return handlePermissionsQueryAsync('camera');\n    });\n\n    function getCameraPermissionsAsync() {\n      return _getCameraPermissionsAsync.apply(this, arguments);\n    }\n\n    return getCameraPermissionsAsync;\n  }(),\n  requestCameraPermissionsAsync: function () {\n    var _requestCameraPermissionsAsync = _asyncToGenerator(function* () {\n      return handleRequestPermissionsAsync();\n    });\n\n    function requestCameraPermissionsAsync() {\n      return _requestCameraPermissionsAsync.apply(this, arguments);\n    }\n\n    return requestCameraPermissionsAsync;\n  }(),\n  getMicrophonePermissionsAsync: function () {\n    var _getMicrophonePermissionsAsync = _asyncToGenerator(function* () {\n      return handlePermissionsQueryAsync('microphone');\n    });\n\n    function getMicrophonePermissionsAsync() {\n      return _getMicrophonePermissionsAsync.apply(this, arguments);\n    }\n\n    return getMicrophonePermissionsAsync;\n  }(),\n  requestMicrophonePermissionsAsync: function () {\n    var _requestMicrophonePermissionsAsync = _asyncToGenerator(function* () {\n      try {\n        yield getUserMedia({\n          audio: true\n        });\n        return {\n          status: PermissionStatus.GRANTED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: true\n        };\n      } catch (_ref2) {\n        var message = _ref2.message;\n        return handleGetUserMediaError({\n          message: message\n        });\n      }\n    });\n\n    function requestMicrophonePermissionsAsync() {\n      return _requestMicrophonePermissionsAsync.apply(this, arguments);\n    }\n\n    return requestMicrophonePermissionsAsync;\n  }()\n};","map":{"version":3,"sources":["../src/ExponentCameraManager.web.ts"],"names":[],"mappings":"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","sourcesContent":["import { UnavailabilityError } from 'expo-modules-core';\n\nimport {\n  CameraCapturedPicture,\n  CameraPictureOptions,\n  CameraType,\n  PermissionResponse,\n  PermissionStatus,\n} from './Camera.types';\nimport { ExponentCameraRef } from './ExponentCamera.web';\nimport {\n  canGetUserMedia,\n  isBackCameraAvailableAsync,\n  isFrontCameraAvailableAsync,\n} from './WebUserMediaManager';\n\nfunction getUserMedia(constraints: MediaStreamConstraints): Promise<MediaStream> {\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    return navigator.mediaDevices.getUserMedia(constraints);\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n\n  // First get ahold of the legacy getUserMedia, if present\n  const getUserMedia =\n    // TODO: this method is deprecated, migrate to https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    function () {\n      const error: any = new Error('Permission unimplemented');\n      error.code = 0;\n      error.name = 'NotAllowedError';\n      throw error;\n    };\n\n  return new Promise((resolve, reject) => {\n    getUserMedia.call(navigator, constraints, resolve, reject);\n  });\n}\n\nfunction handleGetUserMediaError({ message }: { message: string }): PermissionResponse {\n  // name: NotAllowedError\n  // code: 0\n  if (message === 'Permission dismissed') {\n    return {\n      status: PermissionStatus.UNDETERMINED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: false,\n    };\n  } else {\n    // TODO: Bacon: [OSX] The system could deny access to chrome.\n    // TODO: Bacon: add: { status: 'unimplemented' }\n    return {\n      status: PermissionStatus.DENIED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: false,\n    };\n  }\n}\n\nasync function handleRequestPermissionsAsync(): Promise<PermissionResponse> {\n  try {\n    await getUserMedia({\n      video: true,\n    });\n    return {\n      status: PermissionStatus.GRANTED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: true,\n    };\n  } catch ({ message }) {\n    return handleGetUserMediaError({ message });\n  }\n}\n\nasync function handlePermissionsQueryAsync(\n  query: 'camera' | 'microphone'\n): Promise<PermissionResponse> {\n  if (!navigator?.permissions?.query) {\n    throw new UnavailabilityError('expo-camera', 'navigator.permissions API is not available');\n  }\n\n  const { state } = await navigator.permissions.query({ name: query });\n  switch (state) {\n    case 'prompt':\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: true,\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n  }\n}\n\nexport default {\n  get name(): string {\n    return 'ExponentCameraManager';\n  },\n  get Type() {\n    return {\n      back: 'back',\n      front: 'front',\n    };\n  },\n  get FlashMode() {\n    return {\n      on: 'on',\n      off: 'off',\n      auto: 'auto',\n      torch: 'torch',\n    };\n  },\n  get AutoFocus() {\n    return {\n      on: 'on',\n      off: 'off',\n      auto: 'auto',\n      singleShot: 'singleShot',\n    };\n  },\n  get WhiteBalance() {\n    return {\n      auto: 'auto',\n      continuous: 'continuous',\n      manual: 'manual',\n    };\n  },\n  get VideoQuality() {\n    return {};\n  },\n  get VideoStabilization() {\n    return {};\n  },\n  async isAvailableAsync(): Promise<boolean> {\n    return canGetUserMedia();\n  },\n  async takePicture(\n    options: CameraPictureOptions,\n    camera: ExponentCameraRef\n  ): Promise<CameraCapturedPicture> {\n    return await camera.takePicture(options);\n  },\n  async pausePreview(camera: ExponentCameraRef): Promise<void> {\n    await camera.pausePreview();\n  },\n  async resumePreview(camera: ExponentCameraRef): Promise<void> {\n    return await camera.resumePreview();\n  },\n  async getAvailableCameraTypesAsync(): Promise<string[]> {\n    if (!canGetUserMedia() || !navigator.mediaDevices.enumerateDevices) return [];\n\n    const devices = await navigator.mediaDevices.enumerateDevices();\n\n    const types: (string | null)[] = await Promise.all([\n      (await isFrontCameraAvailableAsync(devices)) && CameraType.front,\n      (await isBackCameraAvailableAsync()) && CameraType.back,\n    ]);\n\n    return types.filter(Boolean) as string[];\n  },\n  async getAvailablePictureSizes(ratio: string, camera: ExponentCameraRef): Promise<string[]> {\n    return await camera.getAvailablePictureSizes(ratio);\n  },\n  /* async getSupportedRatios(camera: ExponentCameraRef): Promise<string[]> {\n    // TODO: Support on web\n  },\n  async record(\n    options?: CameraRecordingOptions,\n    camera: ExponentCameraRef\n  ): Promise<{ uri: string }> {\n    // TODO: Support on web\n  },\n  async stopRecording(camera: ExponentCameraRef): Promise<void> {\n    // TODO: Support on web\n  }, */\n  async getPermissionsAsync(): Promise<PermissionResponse> {\n    return handlePermissionsQueryAsync('camera');\n  },\n  async requestPermissionsAsync(): Promise<PermissionResponse> {\n    return handleRequestPermissionsAsync();\n  },\n  async getCameraPermissionsAsync(): Promise<PermissionResponse> {\n    return handlePermissionsQueryAsync('camera');\n  },\n  async requestCameraPermissionsAsync(): Promise<PermissionResponse> {\n    return handleRequestPermissionsAsync();\n  },\n  async getMicrophonePermissionsAsync(): Promise<PermissionResponse> {\n    return handlePermissionsQueryAsync('microphone');\n  },\n  async requestMicrophonePermissionsAsync(): Promise<PermissionResponse> {\n    try {\n      await getUserMedia({\n        audio: true,\n      });\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: true,\n      };\n    } catch ({ message }) {\n      return handleGetUserMediaError({ message });\n    }\n  },\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}