{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContainerStyle = exports.generateBackgroundStyle = exports.fetchImage = exports.sumChars = exports.abbr = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _initials = _interopRequireDefault(require(\"initials\"));\nvar abbr = function abbr(name) {\n  var abbr = (0, _initials.default)(name);\n  if (name.startsWith('+')) {\n    abbr = \"+\".concat(abbr);\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  return abbr;\n};\nexports.abbr = abbr;\nvar sumChars = function sumChars(str) {\n  var sum = 0;\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum;\n};\nexports.sumChars = sumChars;\nvar fetchImage = function fetchImage(src) {\n  var fetchCall;\n  return _regenerator.default.async(function fetchImage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regenerator.default.awrap(fetch(src));\n        case 3:\n          fetchCall = _context.sent;\n          if (!fetchCall.headers.map['content-type'].startsWith('image/')) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", true);\n        case 8:\n          console.warn('Online fetched source is not a supported image');\n          return _context.abrupt(\"return\", false);\n        case 10:\n          _context.next = 16;\n          break;\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context[\"catch\"](0);\n          console.warn('Error fetching source, falling back to initials', _context.t0);\n          return _context.abrupt(\"return\", false);\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 12]], Promise);\n};\nexports.fetchImage = fetchImage;\nvar generateBackgroundStyle = function generateBackgroundStyle(name, bgColor, bgColors) {\n  var background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    var i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {\n    backgroundColor: background\n  };\n};\nexports.generateBackgroundStyle = generateBackgroundStyle;\nvar getContainerStyle = function getContainerStyle(size, src, borderRadius) {\n  return {\n    borderRadius: borderRadius ? borderRadius : size * 0.5,\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n};\nexports.getContainerStyle = getContainerStyle;","map":{"version":3,"sources":["helpers.js"],"names":["abbr","name","startsWith","console","warn","sumChars","str","sum","i","length","charCodeAt","fetchImage","src","fetchCall","fetch","headers","map","generateBackgroundStyle","bgColor","bgColors","background","backgroundColor","getContainerStyle","size","borderRadius","borderWidth","borderColor","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import initials from 'initials';\n\nexport const abbr = (name) => {\n  let abbr = initials(name);\n  if (name.startsWith('+')) {\n    abbr = `+${ abbr }`;\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  return abbr;\n};\n\nexport const sumChars = (str) => {\n  let sum = 0;\n  for (let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n};\n\nexport const fetchImage = async (src) => {\n  try {\n    const fetchCall = await fetch(src);\n    if (fetchCall.headers.map['content-type'].startsWith('image/')) {\n      return true;\n    } else {\n      console.warn('Online fetched source is not a supported image');\n      return false;\n    }\n  } catch (err) {\n    console.warn('Error fetching source, falling back to initials', err);\n    return false;\n  }\n};\n\nexport const generateBackgroundStyle = (name, bgColor, bgColors) => {\n  let background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    // Pick a deterministic color from the list\n    const i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {backgroundColor: background};\n};\n\nexport const getContainerStyle = (size, src, borderRadius) => {\n  return {\n    borderRadius: borderRadius ? borderRadius : (size * 0.5),\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n};\n"]},"metadata":{},"sourceType":"script"}